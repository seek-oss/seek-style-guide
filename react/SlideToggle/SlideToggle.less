@import (reference) "~seek-style-guide/theme";

@toggleHeight: @row-height * 5;
@toggleWidth: 48px;
@toggleButtonSize: 24px;
@togglePadding: 2px;

.root {
  height: @touchableTextHeight;
  position: relative;
  display: inline-flex;
  align-items: center;
  cursor: pointer;
}

.switch {
  display: inline-flex;
  cursor: pointer;
}

.input {
  opacity: 0;
  position: absolute;
  margin: 0;
  width: @toggleWidth;
  height: @toggleHeight;
  z-index: @z-index-negative;
}

.labelText {
  .rawText(@standard-type-scale);
  line-height: @toggleHeight;

  .input:checked ~ .switch & {
    font-weight: @sk-bold;
  }
}

.inputLeft {
  left: auto;
  right: 0;
}

.labelLeft {
  margin-right: @gutter-width / 2;
}

.labelRight {
  margin-left: @gutter-width / 2;
}

.slider {
  width: @toggleWidth;
  border-radius: @row-height * 2.5;
  background-color: @sk-white;
  border: @field-border-width solid @sk-mid-gray-light;
  padding: @togglePadding;

  .input:not([readonly]):not([disabled]):focus ~ .switch & {
    .focus();
    border-radius: @row-height * 2.5;
  }
}

.slideButton {
  transition: transform 0.3s ease;
  height: @toggleButtonSize;
  width: @toggleButtonSize;
  border-radius: 50%;
  background-color: @sk-gray-medium;
  box-shadow: inset 0 -2px fade(@sk-black, 10%);
  display: flex;
  align-items: center;
  justify-content: center;

  @slide-distance: @toggleWidth - @toggleButtonSize - (@togglePadding * 2) - (@field-border-width * 2);
  @anticipation-distance: @togglePadding;
  .input:active ~ .switch & {
    transform: translateX(-@anticipation-distance);
  }
  .input:checked ~ .switch & {
    transform: translateX(@slide-distance);
    background-color: @sk-form-accent;
  }
  .input:checked:active ~ .switch & {
    transform: translateX(@slide-distance + @anticipation-distance);
  }
}

.svg {
  fill: white;
  opacity: 0;
  transition:
    transform 0.3s ease,
    opacity 0.3s ease;
  transform: rotate(-25deg);

  .input:checked:active ~ .switch & {
    transform: rotate(6deg);
  }
  .input:checked ~ .switch & {
    transform: none;
    opacity: 1;
  }
}
