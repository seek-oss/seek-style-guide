@import (reference) "~seek-style-guide/theme";

@toggleHeight: @row-height * 5;
@toggleWidth: 48px;

.root {
  height: @touchableTextHeight;
  position: relative;
  display: inline-flex;
  align-items: center;
  cursor: pointer;
}

.switch {
  display: inline-flex;
  cursor: pointer;
}

.input {
  opacity: 0;
  position: absolute;
  left: 1px;
  margin: 0;
  width: @toggleWidth;
  height: @toggleHeight;
  cursor: pointer;

  &:focus ~ .switch .slider .slideButton::before {
    border: 1px solid @sk-focus;
  }

  @slide-distance: 21px;
  @anticipation-distance: 4px;
  &:active ~ .switch .slider .slideButton {
    transform: translateX(-@anticipation-distance);
  }
  &:checked:active ~ .switch .slider .slideButton {
    transform: translateX(@slide-distance + @anticipation-distance);
  }
  &:checked ~ .switch .slider .slideButton {
    transform: translateX(@slide-distance);
    background-color: @sk-form-accent;
  }

  &:checked ~ .switch .slider .slideButton :global(svg) {
    opacity: 1;
  }

  &:checked ~ .switch .labelText {
    font-weight: @sk-bold;
  }
}

.inputLeft {
  left: auto;
  right: 0;
}

.labelLeft {
  margin-right: @gutter-width / 2;
}

.labelRight {
  margin-left: @gutter-width / 2;
}

.labelText {
  line-height: @toggleHeight;
}

.slider {
  width: @toggleWidth;
  height: @toggleHeight;
  border-radius: @row-height * 2.5;
  background-color: @sk-mid-gray-light;
  transition: 0.3s;
}

.slideButton {
  transition: 0.3s;
  height: @toggleHeight;
  width: @toggleHeight;
  border-radius: 50%;
  background-color: @sk-mid-gray;
  box-shadow: inset 0 -2px fade(@sk-black, 10%);
  text-align: center;
}

.icon {
  width: @toggleHeight;
  height: @toggleHeight;
  align-items: center;
  display: flex;
  justify-content: center;
}

.svg {
  fill: white;
  opacity: 0;
  transition: 0.3s;
  transform: rotate(-25deg);
  .input:checked:active ~ .switch .slider & {
    transform: rotate(6deg);
  }
  .input:checked ~ .switch .slider & {
    transform: none;
  }
}
